<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ - Clorum</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/png" href="logo.png">
    <link rel="apple-touch-icon" href="logo.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #000;
            color: #fff;
            overflow-x: hidden;
            line-height: 1.7;
        }

        .container {
            max-width: 1200px;
            width: 100%;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π —Ñ–æ–Ω */
        .background-shapes {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
            background: #000;
        }

        .abstract-shape {
            position: absolute;
            opacity: 0.15;
            filter: blur(8px);
            transition: transform 0.5s ease;
        }

        .triangle {
            width: 0;
            height: 0;
            border-style: solid;
            background: transparent !important;
        }

        .triangle-1 {
            border-width: 0 150px 260px 150px;
            border-color: transparent transparent #ff6600 transparent;
            top: 10%;
            left: 5%;
            animation: floatTriangle 25s infinite ease-in-out;
        }

        .triangle-2 {
            border-width: 260px 150px 0 150px;
            border-color: #ff6600 transparent transparent transparent;
            top: 60%;
            right: 8%;
            animation: floatTriangle 30s infinite ease-in-out reverse;
        }

        .rectangle {
            background: linear-gradient(45deg, #ff6600, #ff8c00);
            transform: rotate(45deg);
        }

        .rectangle-1 {
            width: 300px;
            height: 100px;
            top: 15%;
            right: 15%;
            animation: floatRectangle 20s infinite ease-in-out;
        }

        .rectangle-2 {
            width: 200px;
            height: 80px;
            bottom: 20%;
            left: 10%;
            animation: floatRectangle 25s infinite ease-in-out reverse;
        }

        .hexagon {
            background: #ff6600;
            position: relative;
            width: 120px;
            height: 69px;
        }

        .hexagon:before,
        .hexagon:after {
            content: "";
            position: absolute;
            width: 0;
            border-left: 60px solid transparent;
            border-right: 60px solid transparent;
        }

        .hexagon:before {
            bottom: 100%;
            border-bottom: 34.5px solid #ff6600;
        }

        .hexagon:after {
            top: 100%;
            border-top: 34.5px solid #ff6600;
        }

        .hexagon-1 {
            top: 25%;
            left: 20%;
            animation: floatHexagon 35s infinite ease-in-out;
        }

        .hexagon-2 {
            top: 70%;
            right: 25%;
            animation: floatHexagon 40s infinite ease-in-out reverse;
        }

        .diamond {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, #ff6600, #ff8c00);
            transform: rotate(45deg);
        }

        .diamond-1 {
            top: 40%;
            left: 8%;
            animation: floatDiamond 30s infinite ease-in-out;
        }

        .diamond-2 {
            top: 80%;
            right: 12%;
            animation: floatDiamond 35s infinite ease-in-out reverse;
        }

        .circle {
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255,102,0,0.8) 0%, rgba(255,102,0,0.2) 70%);
        }

        .circle-1 {
            width: 200px;
            height: 200px;
            bottom: 10%;
            left: 20%;
            animation: floatCircle 40s infinite ease-in-out;
        }

        .circle-2 {
            width: 150px;
            height: 150px;
            top: 10%;
            right: 25%;
            animation: floatCircle 45s infinite ease-in-out reverse;
        }

        @keyframes floatTriangle {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            33% { transform: translateY(-40px) rotate(120deg); }
            66% { transform: translateY(30px) rotate(240deg); }
        }

        @keyframes floatRectangle {
            0%, 100% { transform: translateY(0) rotate(45deg) scale(1); }
            50% { transform: translateY(-25px) rotate(45deg) scale(1.1); }
        }

        @keyframes floatHexagon {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-30px) rotate(90deg); }
            50% { transform: translateY(20px) rotate(180deg); }
            75% { transform: translateY(-15px) rotate(270deg); }
        }

        @keyframes floatDiamond {
            0%, 100% { transform: translateX(0) rotate(45deg); }
            33% { transform: translateX(-40px) rotate(135deg); }
            66% { transform: translateX(40px) rotate(225deg); }
        }

        @keyframes floatCircle {
            0%, 100% { transform: translate(0, 0) scale(1); }
            25% { transform: translate(30px, -20px) scale(1.1); }
            50% { transform: translate(-20px, 30px) scale(0.9); }
            75% { transform: translate(25px, 25px) scale(1.05); }
        }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            padding: 20px 0;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        nav.scrolled {
            padding: 15px 0;
            background-color: rgba(0, 0, 0, 0.95);
            box-shadow: 0 5px 15px rgba(255, 102, 0, 0.2);
        }

        nav .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            font-size: 1.8rem;
            font-weight: bold;
            color: #ff6600;
            text-decoration: none;
            letter-spacing: 2px;
        }

        .nav-links {
            display: flex;
            list-style: none;
        }

        .nav-links li {
            margin-left: 30px;
        }

        .nav-links a {
            color: #fff;
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s ease;
            position: relative;
        }

        .nav-links a:hover {
            color: #ff6600;
        }

        /* –ú–æ–±–∏–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è */
        .mobile-menu-btn {
            display: none;
            flex-direction: column;
            justify-content: space-between;
            width: 30px;
            height: 25px;
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 0;
        }

        .mobile-menu-btn span {
            display: block;
            height: 3px;
            width: 100%;
            background-color: #ff6600;
            border-radius: 3px;
            transition: all 0.3s ease;
        }

        .mobile-menu {
            display: none;
            position: fixed;
            top: 80px;
            left: 0;
            width: 100%;
            background: rgba(0, 0, 0, 0.98);
            padding: 20px;
            z-index: 999;
            border-top: 1px solid #ff6600;
            box-shadow: 0 5px 15px rgba(255, 102, 0, 0.3);
        }

        .mobile-menu.active {
            display: block;
        }

        .mobile-nav-links {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .mobile-nav-links li {
            margin: 0;
        }

        .mobile-nav-links a {
            color: #fff;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            padding: 12px 15px;
            display: block;
            border-radius: 5px;
            transition: all 0.3s ease;
            border: 1px solid transparent;
            text-align: center;
        }

        .mobile-nav-links a:hover,
        .mobile-nav-links a.active {
            color: #ff6600;
            border-color: #ff6600;
            background: rgba(255, 102, 0, 0.1);
        }

        /* –°–µ–∫—Ü–∏–∏ */
        section {
            padding: 80px 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s, transform 0.8s;
        }

        section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        h1, h2, h3 {
            color: #ff6600;
            text-align: center;
            margin-bottom: 30px;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-weight: 700;
        }

        h1 { 
            font-size: 3.5rem; 
            text-shadow: 0 0 10px rgba(255, 102, 0, 0.5);
            position: relative;
        }

        h1::after {
            content: '';
            background: url('logo.png') no-repeat center center;
            background-size: contain;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 300px;
            height: 300px;
            opacity: 0.1;
            z-index: -1;
        }

        h2 { font-size: 2.5rem; }

        h2::after {
            content: '';
            display: block;
            width: 100px;
            height: 3px;
            background: #ff6600;
            margin: 15px auto;
            box-shadow: 0 0 10px #ff6600;
        }

        p {
            font-size: 1.2rem;
            line-height: 1.7;
            margin-bottom: 20px;
            text-align: center;
            max-width: 800px;
            font-weight: 500;
            width: 100%;
        }

        /* –ö–Ω–æ–ø–∫–∏ */
        .btn {
            display: inline-block;
            padding: 12px 30px;
            background-color: transparent;
            color: #ff6600;
            border: 2px solid #ff6600;
            text-decoration: none;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .btn:hover {
            background-color: #ff6600;
            color: #000;
            box-shadow: 0 0 20px #ff6600;
        }

        /* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 40px 0;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s, transform 0.8s;
        }

        .stats-grid.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .stat-card {
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid #333;
            border-radius: 10px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s ease;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s, transform 0.8s;
        }

        .stat-card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .stat-card:hover {
            border-color: #ff6600;
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(255, 102, 0, 0.2);
        }

        .stat-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #ff6600;
            margin: 10px 0;
        }

        .stat-label {
            color: #ccc;
            font-size: 0.9rem;
        }

        .players-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin: 20px 0;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s, transform 0.8s;
        }

        .players-list.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .player-tag {
            background: rgba(255, 102, 0, 0.2);
            border: 1px solid #ff6600;
            border-radius: 20px;
            padding: 8px 15px;
            color: #ff6600;
            font-size: 0.9rem;
        }

        .last-updated {
            text-align: center;
            color: #888;
            font-size: 0.9rem;
            margin-top: 20px;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s, transform 0.8s;
        }

        .last-updated.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ */
        .diagnostic-info {
            background: rgba(255, 102, 0, 0.05);
            border: 1px solid rgba(255, 102, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin-top: 30px;
            text-align: left;
        }

        .diagnostic-info h3 {
            text-align: left;
            margin-bottom: 15px;
        }

        .info-row {
            display: flex;
            margin-bottom: 10px;
            align-items: center;
        }

        .info-label {
            min-width: 180px;
            font-weight: bold;
            color: #ccc;
        }

        .info-value {
            color: #ff6600;
            font-weight: 500;
        }

        /* –°—Ç–∞—Ç—É—Å—ã */
        .status-online {
            color: #00ff00 !important;
        }

        .status-offline {
            color: #ff0000 !important;
        }

        .status-unknown {
            color: #ffaa00 !important;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –ª–æ–≥–æ—Ç–∏–ø–∞ */
        @keyframes logoSpin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .logo-spin {
            animation: logoSpin 0.8s ease-in-out;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            h1 { font-size: 2.5rem; }
            h2 { font-size: 2rem; }
            
            .nav-links {
                display: none !important;
            }
            
            .mobile-menu-btn {
                display: flex;
            }
            
            .stats-grid { 
                grid-template-columns: 1fr 1fr; 
            }
            
            .abstract-shape {
                opacity: 0.1;
            }
            
            .triangle-1, .triangle-2 { border-width: 0 80px 140px 80px; }
            .rectangle-1, .rectangle-2 { width: 150px; height: 50px; }
            .hexagon { width: 80px; height: 46px; }
            .hexagon:before, .hexagon:after { 
                border-left: 40px solid transparent; 
                border-right: 40px solid transparent; 
            }
            .hexagon:before { border-bottom: 23px solid #ff6600; }
            .hexagon:after { border-top: 23px solid #ff6600; }
            .diamond { width: 80px; height: 80px; }
            .circle-1, .circle-2 { width: 120px; height: 120px; }
            
            .info-row {
                flex-direction: column;
                align-items: flex-start;
                margin-bottom: 15px;
            }
            
            .info-label {
                min-width: auto;
                margin-bottom: 5px;
            }
            
            .diagnostic-info {
                padding: 15px;
            }
        }

        @media (max-width: 480px) {
            .stats-grid { grid-template-columns: 1fr; }
            
            h1 { font-size: 1.8rem !important; }
            h2 { font-size: 1.5rem !important; }
            
            .container {
                padding: 0 10px;
            }
            
            section {
                padding: 60px 15px;
            }
        }
    </style>
</head>
<body>
    <!-- –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π —Ñ–æ–Ω -->
    <div class="background-shapes">
        <div class="abstract-shape triangle triangle-1"></div>
        <div class="abstract-shape triangle triangle-2"></div>
        <div class="abstract-shape rectangle rectangle-1"></div>
        <div class="abstract-shape rectangle rectangle-2"></div>
        <div class="abstract-shape hexagon hexagon-1"></div>
        <div class="abstract-shape hexagon hexagon-2"></div>
        <div class="abstract-shape diamond diamond-1"></div>
        <div class="abstract-shape diamond diamond-2"></div>
        <div class="abstract-shape circle circle-1"></div>
        <div class="abstract-shape circle circle-2"></div>
    </div>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav id="navbar">
        <div class="container">
            <a href="index.html" class="logo" style="display: flex; align-items: center; text-decoration: none;">
                <img src="logo.png" alt="Clorum" style="height: 35px; margin-right: 10px;" id="logoImg">
                <span style="color: #ff6600; font-size: 1.8rem; font-weight: bold; letter-spacing: 2px;">CLORUM</span>
            </a>
            
            <!-- –î–µ—Å–∫—Ç–æ–ø–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
            <ul class="nav-links">
                <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="ad.html">–í–Ω—É—Ç—Ä–∏–∏–≥—Ä–æ–≤–∞—è —Ä–µ–∫–ª–∞–º–∞</a></li>
                <li><a href="news.html">–ù–æ–≤–æ—Å—Ç–∏</a></li>
                <li><a href="stats.html" style="color: #ff6600;">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞</a></li>
                <li><a href="event.html">–ò–≤–µ–Ω—Ç—ã</a></li>
                <li><a href="https://t.me/ClorumSupportBot" target="_blank">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</a></li>
            </ul>
            
            <!-- –ú–æ–±–∏–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –º–µ–Ω—é -->
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é -->
    <div class="mobile-menu" id="mobileMenu">
        <ul class="mobile-nav-links">
            <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
            <li><a href="ad.html">–í–Ω—É—Ç—Ä–∏–∏–≥—Ä–æ–≤–∞—è —Ä–µ–∫–ª–∞–º–∞</a></li>
            <li><a href="news.html">–ù–æ–≤–æ—Å—Ç–∏</a></li>
            <li><a href="stats.html" class="active">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞</a></li>
            <li><a href="event.html">–ò–≤–µ–Ω—Ç—ã</a></li>
            <li><a href="https://t.me/ClorumSupportBot" target="_blank">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</a></li>
        </ul>
    </div>

    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
    <section id="stats">
        <div class="container">
            <h1>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞</h1>
            
            <div class="stats-grid" id="statsGrid">
                <div class="stat-card">
                    <div class="stat-icon">üë•</div>
                    <div class="stat-number" id="onlineCount">?</div>
                    <div class="stat-label">–ò–≥—Ä–æ–∫–æ–≤ –æ–Ω–ª–∞–π–Ω</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üü¢</div>
                    <div class="stat-number" id="serverStatus">?</div>
                    <div class="stat-label">–°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚ö°</div>
                    <div class="stat-number" id="serverVersion">?</div>
                    <div class="stat-label">–í–µ—Ä—Å–∏—è</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üéØ</div>
                    <div class="stat-number" id="maxPlayers">?</div>
                    <div class="stat-label">–ú–∞–∫—Å–∏–º—É–º –∏–≥—Ä–æ–∫–æ–≤</div>
                </div>
            </div>
            
            <!-- –°–ø–∏—Å–æ–∫ –æ–Ω–ª–∞–π–Ω –∏–≥—Ä–æ–∫–æ–≤ -->
            <div id="playersContainer" style="display: none;">
                <h3>üéÆ –ò–≥—Ä–æ–∫–∏ –æ–Ω–ª–∞–π–Ω:</h3>
                <div id="playersList" class="players-list"></div>
            </div>
            
            <div class="last-updated" id="lastUpdated">
                –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
            </div>
            
            <!-- –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ -->
            <div class="diagnostic-info">
                <h3>üîß –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è</h3>
                <div class="info-row">
                    <div class="info-label">–¢–µ–∫—É—â–∏–π IP —Å–µ—Ä–≤–µ—Ä–∞:</div>
                    <div class="info-value" id="currentIP">-</div>
                </div>
                <div class="info-row">
                    <div class="info-label">–°—Ç–∞—Ç—É—Å API:</div>
                    <div class="info-value" id="apiStatus">–û–∂–∏–¥–∞–Ω–∏–µ...</div>
                </div>
                <div class="info-row">
                    <div class="info-label">–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–π API:</div>
                    <div class="info-value" id="apiUsed">-</div>
                </div>
                <div class="info-row">
                    <div class="info-label">–ü–æ—Å–ª–µ–¥–Ω—è—è –ø—Ä–æ–≤–µ—Ä–∫–∞:</div>
                    <div class="info-value" id="lastCheckTime">-</div>
                </div>
                <div class="info-row">
                    <div class="info-label">–û—à–∏–±–∫–∏:</div>
                    <div class="info-value" id="errorCount">0</div>
                </div>
                
                <button onclick="testConnection()" class="btn" style="margin-top: 15px;">
                    üîÑ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Ä—É—á–Ω—É—é
                </button>
                <button onclick="showRawData()" class="btn" style="margin-top: 15px; margin-left: 10px;">
                    üìä –ü–æ–∫–∞–∑–∞—Ç—å —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ
                </button>
            </div>
        </div>
    </section>

    <!-- –ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥ -->
    <section style="min-height: auto; padding: 0 20px 20px 20px; margin-top: -130px;">
        <div class="container" style="text-align: center;">
            <a href="index.html" class="btn">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a>
        </div>
    </section>
    
    <script>
        // –¢–í–û–ô IP –°–ï–†–í–ï–†–ê - –º–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã
        const SERVER_IP = "92.63.189.25:29455";
        const SERVER_IP_NO_PORT = "92.63.189.25";
        
        let errorCounter = 0;
        let lastAPISuccess = null;

        // –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é
        function initMobileMenu() {
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const mobileMenu = document.getElementById('mobileMenu');
            
            if (mobileMenuBtn && mobileMenu) {
                mobileMenuBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    mobileMenu.classList.toggle('active');
                    const spans = this.querySelectorAll('span');
                    if (mobileMenu.classList.contains('active')) {
                        spans[0].style.transform = 'rotate(45deg) translate(6px, 6px)';
                        spans[1].style.opacity = '0';
                        spans[2].style.transform = 'rotate(-45deg) translate(6px, -6px)';
                    } else {
                        spans[0].style.transform = 'none';
                        spans[1].style.opacity = '1';
                        spans[2].style.transform = 'none';
                    }
                });
                
                const mobileLinks = mobileMenu.querySelectorAll('a');
                mobileLinks.forEach(link => {
                    link.addEventListener('click', () => {
                        mobileMenu.classList.remove('active');
                        const spans = mobileMenuBtn.querySelectorAll('span');
                        spans[0].style.transform = 'none';
                        spans[1].style.opacity = '1';
                        spans[2].style.transform = 'none';
                    });
                });
                
                document.addEventListener('click', function(e) {
                    if (!mobileMenu.contains(e.target) && !mobileMenuBtn.contains(e.target)) {
                        mobileMenu.classList.remove('active');
                        const spans = mobileMenuBtn.querySelectorAll('span');
                        spans[0].style.transform = 'none';
                        spans[1].style.opacity = '1';
                        spans[2].style.transform = 'none';
                    }
                });
            }
        }

        // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            initMobileMenu();
            
            const sections = document.querySelectorAll('section');
            const statsGrid = document.getElementById('statsGrid');
            const statCards = document.querySelectorAll('.stat-card');
            const playersList = document.getElementById('playersList');
            const lastUpdated = document.getElementById('lastUpdated');
            const nav = document.getElementById('navbar');
            
            function isElementInViewport(el) {
                const rect = el.getBoundingClientRect();
                return (
                    rect.top <= (window.innerHeight || document.documentElement.clientHeight) * 0.8 &&
                    rect.bottom >= 0
                );
            }
            
            function handleScroll() {
                if (window.scrollY > 100) {
                    nav.classList.add('scrolled');
                } else {
                    nav.classList.remove('scrolled');
                }
                
                sections.forEach(section => {
                    if (isElementInViewport(section)) {
                        section.classList.add('visible');
                    }
                });
                
                if (statsGrid && isElementInViewport(statsGrid)) {
                    statsGrid.classList.add('visible');
                    
                    statCards.forEach((card, index) => {
                        setTimeout(() => {
                            card.classList.add('visible');
                        }, index * 200);
                    });
                }
                
                if (playersList && isElementInViewport(playersList)) {
                    playersList.classList.add('visible');
                }
                
                if (lastUpdated && isElementInViewport(lastUpdated)) {
                    lastUpdated.classList.add('visible');
                }
            }
            
            handleScroll();
            window.addEventListener('scroll', handleScroll);
            
            setTimeout(() => {
                sections.forEach(section => section.classList.add('visible'));
                if (statsGrid) statsGrid.classList.add('visible');
                statCards.forEach((card, index) => {
                    setTimeout(() => {
                        card.classList.add('visible');
                    }, index * 200);
                });
                if (lastUpdated) lastUpdated.classList.add('visible');
            }, 100);
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É
            document.getElementById('currentIP').textContent = SERVER_IP;
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            updateServerStats();
            setInterval(updateServerStats, 10000);
        });

        // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        async function updateServerStats() {
            try {
                console.log("üîÑ –ó–∞–ø—Ä–∞—à–∏–≤–∞—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å–µ—Ä–≤–µ—Ä–∞...");
                updateDiagnosticInfo('apiStatus', '–ó–∞–ø—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö...', 'status-unknown');
                
                // –ü—Ä–æ–±—É–µ–º —Ä–∞–∑–Ω—ã–µ API –≤ –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞
                const apis = [
                    { url: `https://api.mcsrvstat.us/3/${SERVER_IP}`, name: 'mcsrvstat v3' },
                    { url: `https://api.mcsrvstat.us/2/${SERVER_IP}`, name: 'mcsrvstat v2' },
                    { url: `https://api.mcsrvstat.us/bedrock/2/${SERVER_IP}`, name: 'mcsrvstat bedrock' },
                    { url: `https://api.mcstatus.io/v2/status/java/${SERVER_IP}`, name: 'mcstatus.io' },
                    { url: `https://api.minetools.eu/ping/${SERVER_IP_NO_PORT}/${SERVER_IP.split(':')[1] || '25565'}`, name: 'minetools' }
                ];
                
                let data = null;
                let apiName = null;
                let rawData = null;
                
                // –ü—Ä–æ–±—É–µ–º –≤—Å–µ API –ø–æ –æ—á–µ—Ä–µ–¥–∏
                for (const api of apis) {
                    try {
                        console.log(`–ü—Ä–æ–±—É—é API: ${api.name} (${api.url})`);
                        updateDiagnosticInfo('apiStatus', `–ü—Ä–æ–±—É—é ${api.name}...`, 'status-unknown');
                        
                        const response = await fetch(api.url, { 
                            timeout: 5000,
                            signal: AbortSignal.timeout(5000)
                        });
                        
                        if (!response.ok) {
                            console.warn(`API ${api.name} –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç (${response.status})`);
                            continue;
                        }
                        
                        rawData = await response.json();
                        console.log(`üìä –û—Ç–≤–µ—Ç –æ—Ç ${api.name}:`, rawData);
                        
                        // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ä–∞–∑–Ω—ã—Ö API –≤ –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
                        if (api.name.includes('mcstatus.io')) {
                            if (rawData.online) {
                                data = {
                                    online: true,
                                    players: {
                                        online: rawData.players.online,
                                        max: rawData.players.max,
                                        list: rawData.players.list?.map(p => p.name_clean) || []
                                    },
                                    version: rawData.version.name_clean
                                };
                                apiName = api.name;
                                break;
                            }
                        } else if (api.name.includes('minetools')) {
                            if (rawData && rawData.version) {
                                data = {
                                    online: true,
                                    players: {
                                        online: rawData.players.online,
                                        max: rawData.players.max,
                                        list: []
                                    },
                                    version: rawData.version.name
                                };
                                apiName = api.name;
                                break;
                            }
                        } else {
                            // mcsrvstat —Ñ–æ—Ä–º–∞—Ç
                            if (rawData && (rawData.online === true || rawData.online === false)) {
                                data = rawData;
                                apiName = api.name;
                                break;
                            }
                        }
                    } catch (apiError) {
                        console.warn(`–û—à–∏–±–∫–∞ API ${api.name}:`, apiError);
                    }
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
                if (apiName) {
                    updateDiagnosticInfo('apiUsed', apiName, 'status-online');
                    updateDiagnosticInfo('apiStatus', '–£—Å–ø–µ—à–Ω–æ', 'status-online');
                    errorCounter = 0;
                } else {
                    updateDiagnosticInfo('apiStatus', '–í—Å–µ API –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã', 'status-offline');
                    updateDiagnosticInfo('apiUsed', '–ù–µ—Ç', 'status-offline');
                    errorCounter++;
                }
                
                updateDiagnosticInfo('errorCount', errorCounter.toString());
                
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
                if (data) {
                    if (data.online) {
                        document.getElementById('serverStatus').textContent = 'üü¢ –û–Ω–ª–∞–π–Ω';
                        document.getElementById('serverStatus').className = 'stat-number status-online';
                        
                        document.getElementById('onlineCount').textContent = data.players?.online || 0;
                        document.getElementById('maxPlayers').textContent = data.players?.max || '?';
                        document.getElementById('serverVersion').textContent = data.version || '?';
                        
                        if (data.players?.list && data.players.list.length > 0) {
                            document.getElementById('playersContainer').style.display = 'block';
                            const playersList = document.getElementById('playersList');
                            playersList.innerHTML = data.players.list.map(player => 
                                `<div class="player-tag">${player}</div>`
                            ).join('');
                            
                            setTimeout(() => {
                                playersList.classList.add('visible');
                            }, 300);
                        } else {
                            document.getElementById('playersContainer').style.display = 'none';
                        }
                        
                    } else {
                        document.getElementById('serverStatus').textContent = 'üî¥ –û—Ñ–ª–∞–π–Ω';
                        document.getElementById('serverStatus').className = 'stat-number status-offline';
                        document.getElementById('onlineCount').textContent = '0';
                        document.getElementById('maxPlayers').textContent = '?';
                        document.getElementById('serverVersion').textContent = '?';
                        document.getElementById('playersContainer').style.display = 'none';
                    }
                } else {
                    // –ï—Å–ª–∏ –Ω–∏ –æ–¥–∏–Ω API –Ω–µ –≤–µ—Ä–Ω—É–ª –¥–∞–Ω–Ω—ã—Ö
                    document.getElementById('serverStatus').textContent = '‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
                    document.getElementById('serverStatus').className = 'stat-number status-unknown';
                    document.getElementById('onlineCount').textContent = '?';
                    document.getElementById('maxPlayers').textContent = '?';
                    document.getElementById('serverVersion').textContent = '?';
                    document.getElementById('playersContainer').style.display = 'none';
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
                const now = new Date();
                const timeStr = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}:${now.getSeconds().toString().padStart(2, '0')}`;
                document.getElementById('lastUpdated').textContent = `–û–±–Ω–æ–≤–ª–µ–Ω–æ: ${timeStr}`;
                updateDiagnosticInfo('lastCheckTime', timeStr);
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
                if (rawData) {
                    window.lastRawData = {
                        data: rawData,
                        api: apiName,
                        timestamp: new Date().toISOString()
                    };
                }
                
            } catch (error) {
                console.error('‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:', error);
                updateDiagnosticInfo('apiStatus', '–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞', 'status-offline');
                errorCounter++;
                updateDiagnosticInfo('errorCount', errorCounter.toString());
                
                const now = new Date();
                updateDiagnosticInfo('lastCheckTime', `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')} (–æ—à–∏–±–∫–∞)`);
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
        function updateDiagnosticInfo(elementId, text, className = '') {
            const element = document.getElementById(elementId);
            if (element) {
                element.textContent = text;
                if (className) {
                    element.className = 'info-value ' + className;
                }
            }
        }

        // –§—É–Ω–∫—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
        async function testConnection() {
            console.log("=== –¢–ï–°–¢ –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–Ø ===");
            console.log("IP —Å–µ—Ä–≤–µ—Ä–∞:", SERVER_IP);
            
            const testPorts = [29455, 25565, 19132, 25566];
            let found = false;
            
            for (const port of testPorts) {
                const testIP = `92.63.189.25:${port}`;
                console.log(`–¢–µ—Å—Ç–∏—Ä—É—é –ø–æ—Ä—Ç ${port}...`);
                
                try {
                    const response = await fetch(`https://api.mcsrvstat.us/2/${testIP}`);
                    const data = await response.json();
                    
                    if (data.online) {
                        alert(`‚úÖ –°–µ—Ä–≤–µ—Ä –Ω–∞–π–¥–µ–Ω!\n–ü–æ—Ä—Ç: ${port}\n–û–Ω–ª–∞–π–Ω: ${data.players?.online || 0}/${data.players?.max || '?'}\n–í–µ—Ä—Å–∏—è: ${data.version || '?'}`);
                        found = true;
                        
                        // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—É—â–∏–π IP
                        const ipElement = document.getElementById('currentIP');
                        ipElement.textContent = testIP;
                        ipElement.className = 'info-value status-online';
                        
                        break;
                    }
                } catch (e) {
                    console.log(`–ü–æ—Ä—Ç ${port}: –æ—à–∏–±–∫–∞`, e);
                }
            }
            
            if (!found) {
                alert("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É.\n\n–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:\n1. –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å IP –∞–¥—Ä–µ—Å–∞\n2. –û—Ç–∫—Ä—ã—Ç –ª–∏ –ø–æ—Ä—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ\n3. –†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —Å–µ—Ä–≤–µ—Ä –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç\n4. –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ª–∏ —Ñ–∞–µ—Ä–≤–æ–ª –∑–∞–ø—Ä–æ—Å—ã");
            }
            
            // –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            updateServerStats();
        }

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
        function showRawData() {
            if (window.lastRawData) {
                console.log("–°—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ:", window.lastRawData);
                alert(`–°—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ API:\n\nAPI: ${window.lastRawData.api}\n–í—Ä–µ–º—è: ${window.lastRawData.timestamp}\n\n–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (F12) –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ–ª–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.`);
            } else {
                alert("–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è. –î–æ–∂–¥–∏—Ç–µ—Å—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.");
            }
        }

        // –ê–Ω–∏–º–∞—Ü–∏—è –ª–æ–≥–æ –ø—Ä–∏ –∫–ª–∏–∫–µ
        const logoLink = document.querySelector('.logo');
        if (logoLink) {
            logoLink.addEventListener('click', function(e) {
                e.preventDefault();
                const logoImg = this.querySelector('img');
                
                if (logoImg) {
                    logoImg.classList.add('logo-spin');
                    setTimeout(() => {
                        logoImg.classList.remove('logo-spin');
                        window.location.href = 'index.html';
                    }, 800);
                } else {
                    window.location.href = 'index.html';
                }
            });
        }
    </script>
</body>
</html>
